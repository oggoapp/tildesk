<div id='c21-preview' >
  <div class="modal-preview-image" #divPreview id="divPreview">

    <div class="c21-header">
      <div class="c21-header-container">

        <div class="c21-header-content">
          <!-- ICON CLOSE CHAT -->
          <button tabindex="-1" class="c21-header-button c21-right c21-close c21-button-clean" [ngStyle]="{'display': (hideHeaderCloseButton)?'none':'flex'}" (click)="onClickClose()">
            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.20711 6.60832C6.81658 6.2178 6.18342 6.2178 5.79289 6.60832C5.40237 6.99885 5.40237 7.63201 5.79289 8.02254L10.5858 12.8154L5.79289 17.6083C5.40237 17.9988 5.40237 18.632 5.79289 19.0225C6.18342 19.4131 6.81658 19.4131 7.20711 19.0225L12 14.2296L16.7929 19.0225C17.1834 19.4131 17.8166 19.4131 18.2071 19.0225C18.5976 18.632 18.5976 17.9988 18.2071 17.6083L13.4142 12.8154L18.2071 8.02254C18.5976 7.63201 18.5976 6.99885 18.2071 6.60832C17.8166 6.2178 17.1834 6.2178 16.7929 6.60832L12 11.4012L7.20711 6.60832Z" fill="black"/>
            </svg>
          </button>

           <!-- TITLE -->
          <!-- <div class="c21-title" [ngStyle]="{'color': stylesMap?.get('themeColor') }">
            <div class="titleText">{{ translationMap?.get('LABEL_PREVIEW') }}</div>
          </div> -->
        </div>

      </div>

    </div>

    <div class="c21-content" #scrollMePreview id="scroll-me-preview">
        <chat-image *ngIf="fileSelected"
          [metadata]="fileSelected?.metadata"
          [width]="getMetadataSize(fileSelected.metadata)?.width"
          [height]="getMetadataSize(fileSelected.metadata)?.height"
          (onImageRendered)="onImageRenderedFN($event)">
        </chat-image>
        <div id="img-preview-file-extension">{{ file_extension }} </div>
    </div>


    <div id="c21-footer">
      <div class="visible-text-area">
        <!-- isFilePendingToUpload || -->
        <!-- [attr.disabled] = "isFilePendingToLoad" -->
        <textarea
          start-focus-chat21-conversation-preview-component
          inputTextArea
          #textbox
          tabindex="1502"
          aria-labelledby="altTextArea"
          rows="1"
          id="chat21-main-message-context-preview"
          class='f21textarea c21-button-clean'
          [(ngModel)]="textInputTextArea"
          (ngModelChange)="onTextAreaChange()"
          (keypress)="onkeypress($event)"
          (paste)="onPaste($event)"
          placeholder="{{ translationMap?.get('LABEL_PLACEHOLDER') }}">
        </textarea>

        <!-- <chat-message-text-area
          [text]="textInputTextArea"
          (onChangeTextArea)="returnText($event)"
        ></chat-message-text-area> -->

      </div>
      <div tabindex="-1" class="chat21-textarea-button" id="chat21-button-send" [class.active]="!isFilePendingToLoad " (click)="onSendPressed($event)">
        <span class="v-align-center">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11.7256 20C11.3459 20 11.0321 19.7178 10.9824 19.3518L10.9756 19.25L10.9756 4.25C10.9756 3.83579 11.3114 3.5 11.7256 3.5C12.1053 3.5 12.4191 3.78215 12.4687 4.14823L12.4756 4.25L12.4756 19.25C12.4756 19.6642 12.1398 20 11.7256 20Z" fill="white"/>
            <path d="M6.23271 10.829C5.94045 11.1225 5.46558 11.1235 5.17206 10.8313C4.90522 10.5656 4.88012 10.149 5.09734 9.85489L5.16977 9.77061L11.1938 3.72061C11.4603 3.45298 11.8784 3.42863 12.1724 3.64758L12.2567 3.72057L18.2817 9.77057C18.574 10.0641 18.573 10.5389 18.2795 10.8312C18.0127 11.0969 17.5959 11.1203 17.3028 10.9018L17.2188 10.829L11.7249 5.313L6.23271 10.829Z" fill="white"/>
          </svg>
        </span>
      </div>

    </div>

  </div>

</div>
<span id="testFocus" tabindex="1599" onFocus="document.querySelector('[start-focus-chat21-conversation-preview-component]').focus()"></span>
<span id="altTextArea" style="display: none">scrivi la tua domanda</span>
