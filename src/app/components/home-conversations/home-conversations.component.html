<div id='c21-app-list-conversations'>
<!-- tabindex="1100"-->

  <div class="c21-header">
    <div *ngIf="checkShowAllConversation()" class="c21-header-innerWrap">
        <div class="c21-title">{{g.PREV_CONVERSATIONS}}</div>

        <div *ngIf="g.showAllConversations == true" class="c21-button" (click)="returnOpenAllConversation()">
          <div class="c21-button-title" (click)="returnOpenAllConversation()">{{g.SHOW_ALL_CONV}} </div>
          <button tabindex="1101" aria-label=" tutte le conversazioni" class="c21-button-clean">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M7.25 7C7.25 6.58579 7.58579 6.25 8 6.25H20C20.4142 6.25 20.75 6.58579 20.75 7C20.75 7.41421 20.4142 7.75 20 7.75H8C7.58579 7.75 7.25 7.41421 7.25 7Z" fill="#333333"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M7.25 12C7.25 11.5858 7.58579 11.25 8 11.25H20C20.4142 11.25 20.75 11.5858 20.75 12C20.75 12.4142 20.4142 12.75 20 12.75H8C7.58579 12.75 7.25 12.4142 7.25 12Z" fill="#333333"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M7.25 17C7.25 16.5858 7.58579 16.25 8 16.25H20C20.4142 16.25 20.75 16.5858 20.75 17C20.75 17.4142 20.4142 17.75 20 17.75H8C7.58579 17.75 7.25 17.4142 7.25 17Z" fill="#333333"/>
              <path d="M5 7C5 7.55228 4.55228 8 4 8C3.44772 8 3 7.55228 3 7C3 6.44772 3.44772 6 4 6C4.55228 6 5 6.44772 5 7Z" fill="#333333"/>
              <path d="M5 12C5 12.5523 4.55228 13 4 13C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11C4.55228 11 5 11.4477 5 12Z" fill="#333333"/>
              <path d="M5 17C5 17.5523 4.55228 18 4 18C3.44772 18 3 17.5523 3 17C3 16.4477 3.44772 16 4 16C4.55228 16 5 16.4477 5 17Z" fill="#333333"/>
            </svg>
          </button>
        </div>

    </div>
    <div *ngIf="!checkShowAllConversation()" class="c21-header-innerWrap">
      <div class="c21-title">{{g.NO_CONVERSATION}}</div>
      <div *ngIf="allConversations && allConversations.length > 0" class="c21-button" (click)="returnOpenAllConversation()">
          <div class="c21-button-title">{{g.SHOW_ALL_CONV}}</div>
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.25 7C7.25 6.58579 7.58579 6.25 8 6.25H20C20.4142 6.25 20.75 6.58579 20.75 7C20.75 7.41421 20.4142 7.75 20 7.75H8C7.58579 7.75 7.25 7.41421 7.25 7Z" fill="#333333"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.25 12C7.25 11.5858 7.58579 11.25 8 11.25H20C20.4142 11.25 20.75 11.5858 20.75 12C20.75 12.4142 20.4142 12.75 20 12.75H8C7.58579 12.75 7.25 12.4142 7.25 12Z" fill="#333333"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.25 17C7.25 16.5858 7.58579 16.25 8 16.25H20C20.4142 16.25 20.75 16.5858 20.75 17C20.75 17.4142 20.4142 17.75 20 17.75H8C7.58579 17.75 7.25 17.4142 7.25 17Z" fill="#333333"/>
            <path d="M5 7C5 7.55228 4.55228 8 4 8C3.44772 8 3 7.55228 3 7C3 6.44772 3.44772 6 4 6C4.55228 6 5 6.44772 5 7Z" fill="#333333"/>
            <path d="M5 12C5 12.5523 4.55228 13 4 13C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11C4.55228 11 5 11.4477 5 12Z" fill="#333333"/>
            <path d="M5 17C5 17.5523 4.55228 18 4 18C3.44772 18 3 17.5523 3 17C3 16.4477 3.44772 16 4 16C4.55228 16 5 16.4477 5 17Z" fill="#333333"/>
          </svg>
      </div>
    </div>
  </div>
  <div class="clear"></div>

  <div class="c21-waiting-time" *ngIf="g.showWaitTime === true">
    <!-- <div *ngIf="waitingTime >= 0" >{{g.WAITING_TIME_FOUND}} {{humanWaitingTime}}</div>
    <div *ngIf="waitingTime == -1" >{{g.WAITING_TIME_NOT_FOUND}}</div> -->
    <div *ngIf="waitingTime >= 0 && g.dynamicWaitTimeReply === true || waitingTime >= 0 && g.dynamicWaitTimeReply === 'true'">
      {{ WAITING_TIME_FOUND_WITH_REPLYTIME_PLACEHOLDER }}
    </div>
    <div *ngIf="waitingTime >= 0 && g.dynamicWaitTimeReply === false || waitingTime >= 0 && g.dynamicWaitTimeReply === 'false' ">
      {{ g.WAITING_TIME_NOT_FOUND }}
    </div>
    <div *ngIf="waitingTime == -1">{{g.WAITING_TIME_NOT_FOUND}}</div>
  </div>


  <div class="c21-body">

    <chat-list-conversations
      [listConversations]="listConversations"
      [limit]="3"
      [stylesMap]="stylesMap"
      [translationMap]="translationMapConversation"
      (onConversationSelected)=onConversationSelectedFN($event)
      (onImageLoaded)="onImageLoadedFN($event)"
      (onConversationLoaded)="onConversationLoadedFN($event)">
    </chat-list-conversations>

    <div *ngIf="(!listConversations || listConversations.length == 0) && g.showAvailableAgents === true" style="margin-left: 30px;">
      <div *ngFor="let agent of availableAgents" class="c21-pallozzo">
          <div class="c21-ball" [ngStyle] = "{ 'background-color':setColorFromString(agent.firstname) }" >
            <span class="c21-ball-label">{{avatarPlaceholder(agent.firstname)}}</span>
            <div *ngIf="agent.imageurl" #avatarImage class="c21-avatar-image" [style.background-image]="'url(' + agent.imageurl + ')'"></div>
          </div>
        </div>
    </div>

  </div>


  <div class="c21-footer">
    <!--  *ngIf="this.g.supportMode" -->
    <button tabindex="1040" aflistconv #aflistconv class="c21-button-primary" (click)="openNewConversation()" [ngStyle]="{'background-color': g.themeColor, 'border-color': g.themeColor, 'color': g.themeForegroundColor }">
        <span class="v-align-center">
          <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <mask id="mask0_37232_299" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="2" y="3" width="20" height="20">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 3.0004H21.999V22.4994H2.5V3.0004Z" fill="white"/>
            </mask>
            <g mask="url(#mask0_37232_299)">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.3049 14.8178L14.9619 20.7508C15.1219 21.0108 15.3719 21.0078 15.4729 20.9938C15.5739 20.9798 15.8169 20.9178 15.9049 20.6228L20.4779 5.1778C20.5579 4.9048 20.4109 4.7188 20.3449 4.6528C20.2809 4.5868 20.0979 4.4458 19.8329 4.5208L4.37688 9.0468C4.08388 9.1328 4.01988 9.3788 4.00588 9.4798C3.99188 9.5828 3.98788 9.8378 4.24688 10.0008L10.2479 13.7538L15.5499 8.3958C15.8409 8.1018 16.3159 8.0988 16.6109 8.3898C16.9059 8.6808 16.9079 9.1568 16.6169 9.4508L11.3049 14.8178ZM15.3949 22.4998C14.6989 22.4998 14.0609 22.1458 13.6849 21.5378L9.80788 15.2468L3.45188 11.2718C2.76688 10.8428 2.40888 10.0788 2.51988 9.2758C2.62988 8.4728 3.18088 7.8348 3.95488 7.6078L19.4109 3.0818C20.1219 2.8738 20.8839 3.0708 21.4079 3.5928C21.9319 4.1198 22.1269 4.8898 21.9149 5.6038L17.3419 21.0478C17.1129 21.8248 16.4729 22.3738 15.6719 22.4808C15.5779 22.4928 15.4869 22.4998 15.3949 22.4998Z" fill="white"/>
            </g>
          </svg>
        </span>
        <span class="v-align-center c21-label-button">
          <!-- {{LABEL_START_NW_CONV}} -->
          {{g.LABEL_START_NW_CONV}}

        </span>
        <div class="clear"></div>
    </button>

  </div>


</div>
